---
import Link from './Link.astro';
import List from './List.astro';
const { as: Text = 'p', block } = Astro.props;

---

<List {block} is_first={true}/>
<Text>
  {
    block[block.type].rich_text.length > 1 ?
    block[block.type].rich_text.map((sibling) => (
      sibling.href ?
      <Link href={sibling.href} plain_text={sibling.plain_text} /> :
      sibling.plain_text
    )) :
    block[block.type].rich_text[0].href ?
    <Link href={block[block.type].rich_text[0].href} plain_text={block[block.type].rich_text[0].plain_text} /> :
    block[block.type].rich_text[0].plain_text
  }
  <slot />
</Text>
<List {block} is_last={true} />
