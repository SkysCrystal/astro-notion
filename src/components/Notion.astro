---
import Text from './Text.astro';
import { getCorrectTagName } from '../lib/getCorrectTagName'

const {blocks} = Astro.props

---

{
  blocks.map(block => {
    let tagName = getCorrectTagName(block.type);
    return (
      block.has_children 
      ?
      <Text as={tagName} {block}>
        <Astro.self blocks={block[block.type].children} />
      </Text> 
      :
      <Text as={tagName} {block} />
    )
  })
}
