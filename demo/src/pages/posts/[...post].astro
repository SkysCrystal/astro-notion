---
import PostLayout from '../../layouts/PostLayout.astro';

import { getTableData, generateStaticPaths } from 'astro-notion/api'
import { Notion } from 'astro-notion/components'

export async function getStaticPaths() {
  const data = await getTableData();
  return await generateStaticPaths(data)
}

const { post: postUrl } = Astro.params;
const { pages, pageData, blocks } = Astro.props;

---

<PostLayout {pages} {pageData} {postUrl}>
  <Notion {blocks} />
</PostLayout>
